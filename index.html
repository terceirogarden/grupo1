
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Loja Online - Corrigido</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <script src="js/firebase-config.js"></script>
  <script src="js/main.js" defer></script>
</head>
<body class="bg-light">

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
    <div class="container d-flex justify-content-between align-items-center">
      <a class="navbar-brand" href="#">ğŸ›ï¸ Loja Online</a>
      <div>
        <button class="btn btn-outline-secondary me-2 d-none" id="btn-admin" onclick="window.location.href='admin.html'">Admin</button>
        <button class="btn btn-outline-primary me-2" id="btn-login" onclick="abrirLogin()">Entrar</button>
        <button class="btn btn-outline-secondary d-none" id="btn-logout" onclick="logout()">Sair</button>
      </div>
    </div>
  </nav>

  <!-- Modo escuro -->
  <div class="form-check form-switch text-end me-3 mt-2">
    <input class="form-check-input" type="checkbox" id="modoEscuroToggle" onchange="alternarModoEscuro()">
    <label class="form-check-label" for="modoEscuroToggle">Modo escuro</label>
  </div>
  <script>
    function alternarModoEscuro() {
      document.body.classList.toggle('bg-dark');
      document.body.classList.toggle('text-light');
      document.querySelectorAll('.card').forEach(card => card.classList.toggle('bg-secondary'));
    }
  </script>

  <div class="container mt-4">

    <!-- Filtros -->
    <div class="row mb-4">
      <div class="col-md-4">
        <input type="text" id="busca" class="form-control" placeholder="Buscar por nome">
      </div>
      <div class="col-md-3">
        <input type="number" id="precoMin" class="form-control" placeholder="PreÃ§o mÃ­nimo">
      </div>
      <div class="col-md-3">
        <input type="number" id="precoMax" class="form-control" placeholder="PreÃ§o mÃ¡ximo">
      </div>
      <div class="col-md-2">
        <button class="btn btn-primary w-100" onclick="aplicarFiltros()">Filtrar</button>
      </div>
    </div>

    <!-- Produtos -->
    <div class="row mb-5" id="produtos"></div>

    <!-- Carrinho -->
    <h2 class="mt-5">ğŸ›’ Meu Carrinho</h2>
    <ul id="carrinho" class="list-group mb-3"></ul>
    <button class="btn btn-success mb-5" onclick="finalizarCompra()">Finalizar Compra</button>
  </div>

  <!-- Modal de login/cadastro -->
  <div class="modal fade" id="loginModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Acesso ao Sistema</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <input type="email" id="email" class="form-control mb-2" placeholder="Email">
          <input type="password" id="senha" class="form-control mb-3" placeholder="Senha">
          <button class="btn btn-primary w-100 mb-2" onclick="login()">Entrar</button>
          <hr>
          <input type="email" id="emailCadastro" class="form-control mb-2" placeholder="Novo Email">
          <input type="password" id="senhaCadastro" class="form-control mb-2" placeholder="Nova Senha">
          <button class="btn btn-success w-100" onclick="cadastrar()">Cadastrar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts finais -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      carregarProdutos();
    });
  </script>

  <!-- RodapÃ© -->
  <footer class="bg-dark text-light py-4 mt-5">
    <div class="container text-center">
      <p class="mb-1">Â© 2025 Loja Online - Todos os direitos reservados.</p>
      <p class="mb-0"><small>Desenvolvido com â™¥ usando Firebase & Bootstrap</small></p>
    </div>
  </footer>

</body>
</html>
